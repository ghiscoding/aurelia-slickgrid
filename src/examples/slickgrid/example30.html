<template>
  <h2>${title}</h2>
  <div class="subtitle" innerhtml.bind="subTitle"></div>

  <div class="mb-2">
    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
      <button type="button" class="btn btn-outline-secondary" data-test="toggle-readonly-btn"
              click.delegate="toggleGridEditReadonly()">
        <i class="fa fa-table"></i> Toggle Edit/Readonly Grid
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="undo-last-edit-btn"
              click.delegate="undoLastEdit()">
        <i class="fa fa-undo"></i> Undo Last Edit
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="undo-open-editor-btn"
              click.delegate="undoLastEdit(true)">
        <i class="fa fa-undo"></i> Undo Last Edit &amp; Open Editor
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="undo-all-edits-btn"
              click.delegate="undoAllEdits()">
        <i class="fa fa-history"></i> Undo All Edits
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="save-all-btn"
              click.delegate="saveAll()">
        <i class="fa fa-save"></i> Save All
      </button>
    </div>
  </div>

  <div class="mb-3">
    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
      <button type="button" class="btn btn-outline-secondary" data-test="open-modal-create-btn"
              click.delegate="openCompositeModal('create')" disabled.bind="isCompositeDisabled">
        <i class="fa fa-plus"></i> Open Item Create Modal
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="open-modal-edit-btn"
              click.delegate="openCompositeModal('edit')" disabled.bind="isCompositeDisabled">
        <i class="fa fa-pencil"></i> Open Item Edit Modal
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="open-modal-mass-update-btn"
              click.delegate="openCompositeModal('mass-update')" disabled.bind="isCompositeDisabled">
        <i class="fa fa-pencil-square-o"></i> Open Mass Update Modal
      </button>
      <button type="button" class="btn btn-outline-secondary" data-test="open-modal-mass-selection-btn"
              click.delegate="openCompositeModal('mass-selection')" disabled.bind="isMassSelectionDisabled">
        <i class="fa fa-check-square-o"></i> Open Mass Selection Change
      </button>
    </div>
  </div>

  <aurelia-slickgrid grid-id="grid30"
                     column-definitions.bind="columnDefinitions"
                     grid-options.bind="gridOptions"
                     dataset.bind="dataset"
                     on-aurelia-grid-created.delegate="aureliaGridReady($event.detail)"
                     on-before-edit-cell.delegate="handleOnBeforeEditCell($event.detail.eventData, $event.detail.args)"
                     on-cell-change.delegate="handleOnCellChange($event.detail.eventData, $event.detail.args)"
                     on-click.delegate="handleOnCellClicked($event.detail.eventData, $event.detail.args)"
                     on-composite-editor-change.delegate="handleOnCompositeEditorChange($event.detail.eventData, $event.detail.args)"
                     on-dbl-click.delegate="openCompositeModal($event.detail.eventData, $event.detail.args)"
                     on-item-deleted.delegate="handleItemDeleted($event.detail.eventData, $event.detail.args)"
                     on-grid-state-changed.delegate="handleOnGridStateChanged($event.detail)"
                     on-pagination-changed.delegate="handlePaginationChanged($event.detail.eventData, $event.detail.args)"
                     on-validation-error.delegate="handleValidationError($event.detail.eventData, $event.detail.args)">
  </aurelia-slickgrid>
</template>
