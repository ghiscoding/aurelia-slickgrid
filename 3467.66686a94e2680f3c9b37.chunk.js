"use strict";(self.webpackChunkau_slickgrid_demo=self.webpackChunkau_slickgrid_demo||[]).push([[3467],{3467:(e,t,i)=>{i.r(t),i.d(t,{Example19:()=>g});var a={};i.r(a),i.d(a,{bindables:()=>c,default:()=>r,dependencies:()=>d,name:()=>o,register:()=>u,template:()=>s});var n=i(5959),l=i(8391);const o="example19",s='<h2>\n  ${title}\n  <span class="float-end">\n    <a style="font-size: 18px" target="_blank"\n      href="https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example19.ts">\n      <span class="mdi mdi-link-variant"></span> code\n    </a>\n  </span>\n  <button\n      class="ms-2 btn btn-outline-secondary btn-sm btn-icon"\n      type="button"\n      data-test="toggle-subtitle"\n      click.trigger="toggleSubTitle()"\n    >\n      <span class="mdi mdi-information-outline" title="Toggle example sub-title details"></span>\n  </button>\n  <button class="btn btn-outline-secondary btn-sm btn-icon" click.trigger="toggleDarkMode()" data-test="toggle-dark-mode">\n    <span class="mdi mdi-theme-light-dark"></span>\n    <span>Toggle Dark Mode</span>\n  </button>\n</h2>\n\n<div class="subtitle" innerhtml.bind="subTitle"></div>\n\n<div class="row">\n  <div class="col-sm-6">\n    <button class="btn btn-outline-secondary btn-sm btn-icon" click.trigger="changeEditableGrid()" data-test="editable-grid-btn">\n      Make Grid Editable\n    </button>\n    <button class="btn btn-outline-secondary btn-sm btn-icon" click.trigger="closeAllRowDetail()" data-test="collapse-all-btn">\n      Close all Row Details\n    </button>\n    &nbsp;&nbsp;\n\n    <span class="d-inline-flex gap-4px">\n      <label for="detailViewRowCount">Detail View Rows Shown: </label>\n      <input id="detailViewRowCount" type="number" value.bind="detailViewRowCount" style="height: 26px; width: 40px">\n      <button class="btn btn-outline-secondary btn-xs btn-icon" style="height: 26px;" click.trigger="changeDetailViewRowCount()"\n        data-test="set-count-btn">\n        Set\n      </button>\n      <label for="serverdelay" class="ms-2">Server Delay: </label>\n        <input\n          id="serverdelay"\n          value.bind="serverWaitDelay"\n          type="number"\n          data-test="server-delay"\n          style="height: 26px; width: 55px"\n          title="input a fake timer delay to simulate slow server response"\n        />\n    </span>\n  </div>\n  <div class="alert alert-${flashAlertType} col-sm-6" if.bind="message" data-test="flash-msg">\n    ${message}\n  </div>\n</div>\n\n<hr />\n\n<aurelia-slickgrid grid-id="grid19" column-definitions.bind="columnDefinitions" grid-options.bind="gridOptions"\n  dataset.bind="dataset" extensions.bind="extensions" instances.bind="aureliaGrid">\n</aurelia-slickgrid>\n',r=s,d=[],c={};let m;function u(e){m||(m=l.K9.define({name:o,template:s,dependencies:d,bindables:c})),e.register(m)}var h=i(5296),b=i(4430),p=i(1187);i(1829);let g=(()=>{let e,t,i,o,s=[(0,l.EM)(a)],r=[],d=[],c=[],m=[],u=[];return class{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[l._t],o=[l._t],(0,n.G4)(null,null,i,{kind:"field",name:"detailViewRowCount",static:!1,private:!1,access:{has:e=>"detailViewRowCount"in e,get:e=>e.detailViewRowCount,set:(e,t)=>{e.detailViewRowCount=t}},metadata:a},d,c),(0,n.G4)(null,null,o,{kind:"field",name:"serverWaitDelay",static:!1,private:!1,access:{has:e=>"serverWaitDelay"in e,get:e=>e.serverWaitDelay,set:(e,t)=>{e.serverWaitDelay=t}},metadata:a},m,u),(0,n.G4)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,n.zF)(t,r)}_darkMode=!1;detailViewRowCount=(0,n.zF)(this,d,9);serverWaitDelay=((0,n.zF)(this,c),(0,n.zF)(this,m,250));title=((0,n.zF)(this,u),"Example 19: Row Detail View");subTitle='\n    Add functionality to show extra information with a Row Detail View, (<a href="https://ghiscoding.gitbook.io/aurelia-slickgrid/grid-functionalities/row-detail" target="_blank">Wiki docs</a>)\n    <ul>\n      <li>Click on the row "+" icon or anywhere on the row to open it (the latter can be changed via property "useRowClick: false")</li>\n      <li>Pass a View/Model as a Template to the Row Detail</li>\n      <li>You can use "expandableOverride()" callback to override logic to display expand icon on every row (for example only show it every 2nd row)</li>\n    </ul>\n  ';aureliaGrid;gridOptions;columnDefinitions=[];dataset=[];flashAlertType="info";hideSubTitle=!1;message="";constructor(){this.defineGrid()}get rowDetailInstance(){return this.aureliaGrid?.extensionService.getExtensionInstanceByName(h.$fu.rowDetailView)}attached(){this.getData()}detaching(){document.querySelector(".panel-wm-content").classList.remove("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="light"}defineGrid(){this.columnDefinitions=[{id:"title",name:"Title",field:"title",sortable:!0,type:h.PUO.string,width:70,filterable:!0,editor:{model:h.R8o.text}},{id:"duration",name:"Duration (days)",field:"duration",formatter:h._tQ.decimal,params:{minDecimal:1,maxDecimal:2},sortable:!0,type:h.PUO.number,minWidth:90,filterable:!0},{id:"percent2",name:"% Complete",field:"percentComplete2",editor:{model:h.R8o.slider},formatter:h._tQ.progressBar,type:h.PUO.number,sortable:!0,minWidth:100,filterable:!0,filter:{model:h.CuW.slider,operator:">"}},{id:"start",name:"Start",field:"start",formatter:h._tQ.dateIso,sortable:!0,type:h.PUO.date,minWidth:90,exportWithFormatter:!0,filterable:!0,filter:{model:h.CuW.compoundDate}},{id:"finish",name:"Finish",field:"finish",formatter:h._tQ.dateIso,sortable:!0,type:h.PUO.date,minWidth:90,exportWithFormatter:!0,filterable:!0,filter:{model:h.CuW.compoundDate}},{id:"effort-driven",name:"Effort Driven",field:"effortDriven",minWidth:100,formatter:h._tQ.checkmarkMaterial,type:h.PUO.boolean,filterable:!0,sortable:!0,filter:{collection:[{value:"",label:""},{value:!0,label:"True"},{value:!1,label:"False"}],model:h.CuW.singleSelect}}],this.gridOptions={autoResize:{container:"#demo-container",rightPadding:10},enableFiltering:!0,enableRowDetailView:!0,darkMode:this._darkMode,datasetIdPropertyName:"rowId",rowDetailView:{process:e=>this.simulateServerAsyncCall(e),loadOnce:!0,singleRowExpand:!1,useRowClick:!0,panelRows:this.detailViewRowCount,preloadViewModel:b.W,viewModel:p.j,parent:this,onBeforeRowDetailToggle:(e,t)=>(console.log("before toggling row detail",t.item),!0)},rowSelectionOptions:{selectActiveRow:!0}}}getData(){const e=[];for(let t=0;t<1e3;t++){const i=2e3+Math.floor(10*Math.random()),a=Math.floor(11*Math.random()),n=Math.floor(29*Math.random()),l=Math.round(100*Math.random());e[t]={rowId:t,title:"Task "+t,duration:t%33==0?null:100*Math.random()+"",percentComplete:l,percentComplete2:l,percentCompleteNumber:l,start:new Date(i,a,n),finish:new Date(i,a+1,n),effortDriven:t%5==0}}this.dataset=e}changeDetailViewRowCount(){const e=this.rowDetailInstance.getOptions();e&&e.panelRows&&(e.panelRows=this.detailViewRowCount,this.rowDetailInstance.setOptions(e))}changeEditableGrid(){return this.rowDetailInstance.collapseAll(),this.rowDetailInstance.addonOptions.useRowClick=!1,this.gridOptions.autoCommitEdit=!this.gridOptions.autoCommitEdit,this.aureliaGrid?.slickGrid.setOptions({editable:!0,autoEdit:!0,enableCellNavigation:!0}),!0}closeAllRowDetail(){this.rowDetailInstance.collapseAll()}showFlashMessage(e,t="info"){this.message=e,this.flashAlertType=t}simulateServerAsyncCall(e){const t=["John Doe","Jane Doe","Chuck Norris","Bumblebee","Jackie Chan","Elvis Presley","Bob Marley","Mohammed Ali","Bruce Lee","Rocky Balboa"];return new Promise((i=>{window.setTimeout((()=>{const a=e;a.assignee=t[this.randomNumber(0,9)]||"",a.reporter=t[this.randomNumber(0,9)]||"",i(a)}),this.serverWaitDelay)}))}toggleDarkMode(){this._darkMode=!this._darkMode,this.toggleBodyBackground(),this.aureliaGrid.slickGrid?.setOptions({darkMode:this._darkMode}),this.closeAllRowDetail()}toggleBodyBackground(){this._darkMode?(document.querySelector(".panel-wm-content").classList.add("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="dark"):(document.querySelector(".panel-wm-content").classList.remove("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="light")}toggleSubTitle(){this.hideSubTitle=!this.hideSubTitle;const e=this.hideSubTitle?"add":"remove";document.querySelector(".subtitle")?.classList[e]("hidden"),this.aureliaGrid.resizerService.resizeGrid(0)}randomNumber(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},t})()}}]);