"use strict";(self.webpackChunkau_slickgrid_demo=self.webpackChunkau_slickgrid_demo||[]).push([[838],{3838:(e,t,i)=>{i.r(t),i.d(t,{Example37:()=>g});var a={};i.r(a),i.d(a,{bindables:()=>l,default:()=>s,dependencies:()=>r,name:()=>d,register:()=>h,template:()=>o});var n=i(3148);const d="example37",o='<h2>\n  ${title}\n  <button class="btn btn-outline-secondary btn-sm btn-icon" click.trigger="toggleDarkMode()" data-test="toggle-dark-mode">\n    <i class="mdi mdi-theme-light-dark"></i>\n    <span>Toggle Dark Mode</span>\n  </button>\n  <span class="float-end">\n    <a style="font-size: 18px" target="_blank"\n      href="https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example37.ts">\n      <span class="mdi mdi-link-variant"></span> code\n    </a>\n  </span>\n</h2>\n<div class="subtitle" innerhtml.bind="subTitle"></div>\n\n<aurelia-slickgrid\n  grid-id="grid37"\n  column-definitions.bind="columnDefinitions"\n  grid-options.bind="gridOptions"\n  dataset.bind="dataset"\n  instances.bind="aureliaGrid"\n  on-cell-change.trigger="handleOnCellChange($event.detail.eventData, $event.detail.args)"\n  on-columns-reordered.trigger="handleOnColumnsReordered()">\n</aurelia-slickgrid>\n',s=o,r=[],l=[];let c;function h(e){c||(c=n.K94.define({name:d,template:o,dependencies:r,bindables:l})),e.register(c)}var u=i(9589);i(3262);class g{_darkMode=!1;title="Example 37: Footer Totals Row";subTitle="Display a totals row at the end of the grid.";aureliaGrid;gridOptions;columnDefinitions=[];dataset=[];resizerPaused=!1;constructor(){this.defineGrid()}attached(){this.dataset=this.loadData(100),this.updateAllTotals()}detaching(){document.querySelector(".panel-wm-content").classList.remove("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="light"}defineGrid(){const e=[];for(let t=0;t<10;t++)e.push({id:t,name:String.fromCharCode("A".charCodeAt(0)+t),field:String(t),type:u.PUO.number,width:58,editor:{model:u.R8o.integer}});this.columnDefinitions=e,this.gridOptions={autoEdit:!0,autoCommitEdit:!0,editable:!0,darkMode:this._darkMode,gridHeight:450,gridWidth:800,enableCellNavigation:!0,rowHeight:30,createFooterRow:!0,showFooterRow:!0,footerRowHeight:28}}loadData(e){const t=[];for(let i=0;i<e;i++){const e=t[i]={};e.id=i;for(let t=0;t<this.columnDefinitions.length;t++)e[t]=Math.round(10*Math.random())}return t}handleOnCellChange(e,t){this.updateTotal(t.cell)}handleOnColumnsReordered(){this.updateAllTotals()}toggleDarkMode(){this._darkMode=!this._darkMode,this.toggleBodyBackground(),this.aureliaGrid.slickGrid?.setOptions({darkMode:this._darkMode}),this.updateAllTotals()}toggleBodyBackground(){this._darkMode?(document.querySelector(".panel-wm-content").classList.add("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="dark"):(document.querySelector(".panel-wm-content").classList.remove("dark-mode"),document.querySelector("#demo-container").dataset.bsTheme="light")}updateAllTotals(){let e=this.aureliaGrid.slickGrid?.getColumns().length||0;for(;e--;)this.updateTotal(e)}updateTotal(e){const t=this.aureliaGrid.slickGrid?.getColumns()[e].id;let i=0,a=this.dataset.length;for(;a--;)i+=parseInt(this.dataset[a][t],10)||0;const n=this.aureliaGrid.slickGrid?.getFooterRowColumn(t);n&&(n.textContent=`Sum: ${i}`)}}n.K94.define(a,g)}}]);