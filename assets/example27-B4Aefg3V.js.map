{"version":3,"file":"example27-B4Aefg3V.js","sources":["../../src/examples/slickgrid/example27.$au.ts","../../src/examples/slickgrid/example27.ts"],"sourcesContent":["import { CustomElement } from '@aurelia/runtime-html';\nimport \"./example27.scss\";\nexport const name = \"example27\";\nexport const template = \"<h2>\\n  <span innerhtml.bind=\\\"title\\\"></span>\\n  <span class=\\\"float-end\\\">\\n    <a style=\\\"font-size: 18px\\\"\\n        target=\\\"_blank\\\"\\n        href=\\\"https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example27.ts\\\">\\n      <span class=\\\"mdi mdi-link mdi-v-align-sub\\\"></span> code\\n    </a>\\n  </span>\\n  <button\\n      class=\\\"ms-2 btn btn-outline-secondary btn-sm btn-icon\\\"\\n      type=\\\"button\\\"\\n      data-test=\\\"toggle-subtitle\\\"\\n      click.trigger=\\\"toggleSubTitle()\\\"\\n    >\\n      <span class=\\\"mdi mdi-information-outline\\\" title=\\\"Toggle example sub-title details\\\"></span>\\n    </button>\\n</h2>\\n\\n<div class=\\\"subtitle\\\" innerhtml.bind=\\\"subTitle\\\"></div>\\n\\n<div class=\\\"row\\\" style=\\\"margin-bottom: 4px;\\\">\\n  <div class=\\\"col-md-12\\\">\\n    <button class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\" data-test=\\\"add-500-rows-btn\\\" click.trigger=\\\"loadData(500)\\\">\\n      500 rows\\n    </button>\\n    <button class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\" data-test=\\\"add-50k-rows-btn\\\" click.trigger=\\\"loadData(25000)\\\">\\n      25k rows\\n    </button>\\n    <button click.trigger=\\\"dynamicallyChangeFilter()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            data-test=\\\"change-filter-dynamically\\\">\\n      <span class=\\\"mdi mdi-filter-outline\\\"></span>\\n      <span>Dynamically Change Filter (% complete &lt; 40)</span>\\n    </button>\\n    <button click.trigger=\\\"collapseAllWithoutEvent()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            data-test=\\\"collapse-all-noevent-btn\\\">\\n      <span class=\\\"mdi mdi-arrow-collapse\\\"></span>\\n      <span>Collapse All (without triggering event)</span>\\n    </button>\\n    <button click.trigger=\\\"dynamicallyToggledFirstParent()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            data-test=\\\"dynamically-toggle-first-parent-btn\\\">\\n      <span>Dynamically Toggle First Parent</span>\\n    </button>\\n    <button click.trigger=\\\"reapplyToggledItems()\\\" data-test=\\\"reapply-toggled-items-btn\\\"\\n            class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            disabled.bind=\\\"hasNoExpandCollapseChanged\\\">\\n      <span class=\\\"mdi mdi-history\\\"></span>\\n      <span>Reapply Previous Toggled Items</span>\\n    </button>\\n    <div class.bind=\\\"loadingClass\\\"></div>\\n  </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md-12\\\">\\n    <button click.trigger=\\\"addNewRow()\\\" data-test=\\\"add-item-btn\\\" class=\\\"btn btn-primary btn-xs btn-icon\\\">\\n      <span class=\\\"mdi mdi-plus color-white\\\"></span>\\n      <span>Add New Item to \\\"Task 1\\\" group</span>\\n    </button>\\n    <button click.trigger=\\\"updateFirstRow()\\\" data-test=\\\"update-item-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\">\\n      <span class=\\\"icon mdi mdi-pencil\\\"></span>\\n      <span>Update 1st Row Item</span>\\n    </button>\\n    <button click.trigger=\\\"collapseAll()\\\" data-test=\\\"collapse-all-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\">\\n      <span class=\\\"mdi mdi-arrow-collapse\\\"></span>\\n      <span>Collapse All</span>\\n    </button>\\n    <button click.trigger=\\\"expandAll()\\\" data-test=\\\"expand-all-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\">\\n      <span class=\\\"mdi mdi-arrow-expand\\\"></span>\\n      <span>Expand All</span>\\n    </button>\\n    <button click.trigger=\\\"logFlatStructure()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            title=\\\"console.log of the Flat dataset\\\">\\n      <span>Log Flat Structure</span>\\n    </button>\\n    <button click.trigger=\\\"logHierarchicalStructure()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            title=\\\"console.log of the Hierarchical Tree dataset\\\">\\n      <span>Log Hierarchical Structure</span>\\n    </button>\\n  </div>\\n</div>\\n\\n<br />\\n\\n<div id=\\\"grid-container\\\" class=\\\"col-sm-12\\\">\\n  <aurelia-slickgrid grid-id=\\\"grid27\\\"\\n                      column-definitions.bind=\\\"columnDefinitions\\\"\\n                      grid-options.bind=\\\"gridOptions\\\"\\n                      dataset.bind=\\\"dataset\\\"\\n                      instances.bind=\\\"aureliaGrid\\\"\\n                      on-before-filter-change.trigger=\\\"showSpinner()\\\"\\n                      on-filter-changed.trigger=\\\"hideSpinner()\\\"\\n                      on-before-filter-clear.trigger=\\\"showSpinner()\\\"\\n                      on-filter-cleared.trigger=\\\"hideSpinner()\\\"\\n                      on-before-sort-change.trigger=\\\"showSpinner()\\\"\\n                      on-sort-changed.trigger=\\\"hideSpinner()\\\"\\n                      on-before-toggle-tree-collapse.trigger=\\\"showSpinner()\\\"\\n                      on-toggle-tree-collapsed.trigger=\\\"hideSpinner()\\\"\\n                      on-tree-full-toggle-start.trigger=\\\"showSpinner()\\\"\\n                      on-tree-full-toggle-end.trigger=\\\"handleOnTreeFullToggleEnd($event.detail)\\\"\\n                      on-tree-item-toggled.trigger=\\\"handleOnTreeItemToggled($event.detail)\\\">\\n  </aurelia-slickgrid>\\n</div>\\n\";\nexport default template;\nexport const dependencies = [  ];\nexport const bindables = {};\nlet _e;\nexport function register(container) {\n  if (!_e) {\n    _e = CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n","import { ExcelExportService } from '@slickgrid-universal/excel-export';\n\nimport type { AureliaGridInstance, Column, GridOption, GridStateChange, TreeToggledItem, TreeToggleStateChange, } from 'aurelia-slickgrid';\nimport { FieldType, GridStateType, Filters, Formatters, } from 'aurelia-slickgrid';\nimport './example27.scss'; // provide custom CSS/SASS styling\n\nconst NB_ITEMS = 500;\n\nexport class Example27 {\n  title = 'Example 27: Tree Data <small> <span class=\"mdi mdi-file-tree mdi-27px\"></span> (from a flat dataset with <code>parentId</code> references - <a href=\"https://ghiscoding.gitbook.io/aurelia-slickgrid/grid-functionalities/tree-data-grid\" target=\"_blank\">Wiki</a>)</small>';\n  subTitle = `<ul>\n    <li>It is assumed that your dataset will have Parent/Child references AND also Tree Level (indent) property.</li>\n    <ul>\n      <li>If you do not have the Tree Level (indent), you could call \"convertParentChildArrayToHierarchicalView()\" then call \"convertHierarchicalViewToParentChildArray()\"</li>\n      <li>You could also pass the result of \"convertParentChildArrayToHierarchicalView()\" to \"dataset-hierarchical.bind\" as defined in the next Hierarchical Example</li>\n    </ul>\n  </ul>`;\n  aureliaGrid!: AureliaGridInstance;\n  gridOptions!: GridOption;\n  columnDefinitions: Column[] = [];\n  dataset: any[] = [];\n  datasetHierarchical: any[] = [];\n  loadingClass = '';\n  hideSubTitle = false;\n  isLargeDataset = false;\n  hasNoExpandCollapseChanged = true;\n  treeToggleItems: TreeToggledItem[] = [];\n\n  constructor() {\n    // define the grid options & columns and then create the grid itself\n    this.defineGrid();\n  }\n\n  attached() {\n    // populate the dataset once the grid is ready\n    this.dataset = this.loadData(NB_ITEMS);\n  }\n\n  /* Define grid Options and Columns */\n  defineGrid() {\n    this.columnDefinitions = [\n      {\n        id: 'title', name: 'Title', field: 'title', width: 220, cssClass: 'cell-title',\n        filterable: true, sortable: true, exportWithFormatter: false,\n        queryFieldSorter: 'id', type: FieldType.string,\n        formatter: Formatters.tree, exportCustomFormatter: Formatters.treeExport\n\n      },\n      { id: 'duration', name: 'Duration', field: 'duration', minWidth: 90, filterable: true },\n      {\n        id: 'percentComplete', name: '% Complete', field: 'percentComplete',\n        minWidth: 120, maxWidth: 200, exportWithFormatter: false,\n        sortable: true, filterable: true, filter: { model: Filters.compoundSlider, operator: '>=' },\n        formatter: Formatters.percentCompleteBarWithText, type: FieldType.number,\n      },\n      {\n        id: 'start', name: 'Start', field: 'start', minWidth: 60,\n        type: FieldType.dateIso, filterable: true, sortable: true,\n        filter: { model: Filters.compoundDate },\n        formatter: Formatters.dateIso,\n      },\n      {\n        id: 'finish', name: 'Finish', field: 'finish', minWidth: 60,\n        type: FieldType.dateIso, filterable: true, sortable: true,\n        filter: { model: Filters.compoundDate },\n        formatter: Formatters.dateIso,\n      },\n      {\n        id: 'effortDriven', name: 'Effort Driven', width: 80, minWidth: 20, maxWidth: 80, cssClass: 'cell-effort-driven', field: 'effortDriven',\n        exportWithFormatter: false,\n        formatter: Formatters.checkmarkMaterial, cannotTriggerInsert: true,\n        filterable: true,\n        filter: {\n          collection: [{ value: '', label: '' }, { value: true, label: 'True' }, { value: false, label: 'False' }],\n          model: Filters.singleSelect\n        }\n      }\n    ];\n\n    this.gridOptions = {\n      autoResize: {\n        container: '#demo-container',\n        rightPadding: 10\n      },\n      enableAutoSizeColumns: true,\n      enableAutoResize: true,\n      enableFiltering: true,\n      enableTreeData: true, // you must enable this flag for the filtering & sorting to work as expected\n      treeDataOptions: {\n        columnId: 'title',\n        parentPropName: 'parentId',\n        // this is optional, you can define the tree level property name that will be used for the sorting/indentation, internally it will use \"__treeLevel\"\n        levelPropName: 'treeLevel',\n        indentMarginLeft: 15,\n        initiallyCollapsed: true,\n\n        // you can optionally sort by a different column and/or sort direction\n        // this is the recommend approach, unless you are 100% that your original array is already sorted (in most cases it's not)\n        // initialSort: {\n        //   columnId: 'title',\n        //   direction: 'ASC'\n        // },\n        // we can also add a custom Formatter just for the title text portion\n        titleFormatter: (_row, _cell, value, _def, dataContext) => {\n          let prefix = '';\n          if (dataContext.treeLevel > 0) {\n            prefix = `<span class=\"mdi mdi-subdirectory-arrow-right mdi-v-align-sub color-se-secondary\"></span>`;\n          }\n          return `${prefix}<span class=\"bold\">${value}</span> <span style=\"font-size:11px; margin-left: 15px;\">(parentId: ${dataContext.parentId})</span>`;\n        },\n      },\n      multiColumnSort: false, // multi-column sorting is not supported with Tree Data, so you need to disable it\n      showCustomFooter: true,\n      // change header/cell row height for material design theme\n      headerRowHeight: 45,\n      rowHeight: 40,\n      presets: {\n        filters: [{ columnId: 'percentComplete', searchTerms: [25], operator: '>=' }],\n        // treeData: { toggledItems: [{ itemId: 1, isCollapsed: false }] },\n      },\n      enableExcelExport: true,\n      excelExportOptions: { exportWithFormatter: true, sanitizeDataExport: true },\n      externalResources: [new ExcelExportService()],\n\n      // use Material Design SVG icons\n      contextMenu: {\n        iconCollapseAllGroupsCommand: 'mdi mdi-arrow-collapse',\n        iconExpandAllGroupsCommand: 'mdi mdi-arrow-expand',\n        iconClearGroupingCommand: 'mdi mdi-close',\n        iconCopyCellValueCommand: 'mdi mdi-content-copy',\n        iconExportCsvCommand: 'mdi mdi-download',\n        iconExportExcelCommand: 'mdi mdi-file-excel-outline',\n        iconExportTextDelimitedCommand: 'mdi mdi-download',\n      },\n      gridMenu: {\n        iconCssClass: 'mdi mdi-menu',\n        iconClearAllFiltersCommand: 'mdi mdi-filter-remove-outline',\n        iconClearAllSortingCommand: 'mdi mdi-swap-vertical',\n        iconExportCsvCommand: 'mdi mdi-download',\n        iconExportExcelCommand: 'mdi mdi-file-excel-outline',\n        iconExportTextDelimitedCommand: 'mdi mdi-download',\n        iconRefreshDatasetCommand: 'mdi mdi-sync',\n        iconToggleFilterCommand: 'mdi mdi-flip-vertical',\n        iconTogglePreHeaderCommand: 'mdi mdi-flip-vertical',\n      },\n      headerMenu: {\n        iconClearFilterCommand: 'mdi mdi mdi-filter-remove-outline',\n        iconClearSortCommand: 'mdi mdi-swap-vertical',\n        iconSortAscCommand: 'mdi mdi-sort-ascending',\n        iconSortDescCommand: 'mdi mdi-flip-v mdi-sort-descending',\n        iconColumnHideCommand: 'mdi mdi-close',\n      }\n    };\n  }\n\n  /**\n   * A simple method to add a new item inside the first group that has children which is \"Task 1\"\n   * After adding the item, it will resort by parent/child recursively but keep current sort column\n   */\n  addNewRow() {\n    const newId = this.aureliaGrid.dataView.getItemCount();\n    // find \"Task 1\" which has `id = 1`\n    const parentItemFound = this.aureliaGrid.dataView?.getItemById(1);\n\n    if (parentItemFound?.__hasChildren) {\n      const newItem = {\n        id: newId,\n        parentId: parentItemFound.id,\n        title: `Task ${newId}`,\n        duration: '1 day',\n        percentComplete: 99,\n        start: new Date(),\n        finish: new Date(),\n        effortDriven: false\n      };\n\n      // use the Grid Service to insert the item,\n      // it will also internally take care of updating & resorting the hierarchical dataset\n      this.aureliaGrid.gridService.addItem(newItem);\n    }\n  }\n\n  updateFirstRow() {\n    // to update any of the grid rows, we CANNOT simply pass a new updated object\n    // we MUST read it from the DataView first (that will include all mutated Tree Data props, like `__treeLevel`, `__parentId`, ...) and then update it\n    const item = this.aureliaGrid.dataView.getItemById<any>(0);\n\n    // option 1\n    /*\n    // now that we have the extra Tree Data props, we can update any of the object properties (while keeping the Tree Data props)\n    item.duration = `11 days`;\n    item.percentComplete = 77;\n    item.start = new Date();\n    item.finish = new Date();\n    item.effortDriven = false;\n    // finally we can now update the item which includes our updated props + the Tree Data props (`__treeLevel`, ...)\n    this.aureliaGrid.gridService.updateItem(item);\n    */\n\n    // optiona 2 - alternative\n    // we could also simply use the spread operator directly\n    this.aureliaGrid.gridService.updateItem({ ...item, duration: `11 days`, percentComplete: 77, start: new Date(), finish: new Date(), effortDriven: false });\n  }\n\n  collapseAll() {\n    this.aureliaGrid.treeDataService.toggleTreeDataCollapse(true);\n  }\n\n  collapseAllWithoutEvent() {\n    this.aureliaGrid.treeDataService.toggleTreeDataCollapse(true, false);\n  }\n\n  expandAll() {\n    this.aureliaGrid.treeDataService.toggleTreeDataCollapse(false);\n  }\n\n  dynamicallyChangeFilter() {\n    this.aureliaGrid.filterService.updateFilters([{ columnId: 'percentComplete', operator: '<', searchTerms: [40] }]);\n  }\n\n  logHierarchicalStructure() {\n    console.log('exploded array', this.aureliaGrid.treeDataService.datasetHierarchical /* , JSON.stringify(explodedArray, null, 2) */);\n  }\n\n  logFlatStructure() {\n    console.log('flat array', this.aureliaGrid.treeDataService.dataset /* , JSON.stringify(outputFlatArray, null, 2) */);\n  }\n\n  hideSpinner() {\n    window.setTimeout(() => this.loadingClass = '', 200); // delay the hide spinner a bit to avoid show/hide too quickly\n  }\n\n  showSpinner() {\n    if (this.isLargeDataset) {\n      this.loadingClass = 'mdi mdi-load mdi-spin-1s mdi-24px color-alt-success';\n    }\n  }\n\n  loadData(rowCount: number) {\n    this.isLargeDataset = rowCount > 5000; // we'll show a spinner when it's large, else don't show show since it should be fast enough\n    let indent = 0;\n    const parents: any[] = [];\n    const data: any[] = [];\n\n    // prepare the data\n    for (let i = 0; i < rowCount; i++) {\n      const randomYear = 2000 + Math.floor(Math.random() * 10);\n      const randomMonth = Math.floor(Math.random() * 11);\n      const randomDay = Math.floor((Math.random() * 29));\n      const item: any = (data[i] = {});\n      let parentId;\n\n      /*\n        for demo & E2E testing purposes, let's make \"Task 0\" empty and then \"Task 1\" a parent that contains at least \"Task 2\" and \"Task 3\" which the latter will also contain \"Task 4\" (as shown below)\n        also for all other rows don't go over indent tree level depth of 2\n        Task 0\n        Task 1\n          Task 2\n          Task 3\n            Task 4\n        ...\n       */\n      if (i === 1 || i === 0) {\n        indent = 0;\n        parents.pop();\n      } if (i === 3) {\n        indent = 1;\n      } else if (i === 2 || i === 4 || (Math.random() > 0.8 && i > 0 && indent < 3 && i - 1 !== 0 && i - 1 !== 2)) { // also make sure Task 0, 2 remains empty\n        indent++;\n        parents.push(i - 1);\n      } else if ((Math.random() < 0.3 && indent > 0)) {\n        indent--;\n        parents.pop();\n      }\n\n      if (parents.length > 0) {\n        parentId = parents[parents.length - 1];\n      } else {\n        parentId = null;\n      }\n\n      item['id'] = i;\n      item['parentId'] = parentId;\n      item['title'] = `Task ${i}`;\n      item['duration'] = '5 days';\n      item['percentComplete'] = Math.round(Math.random() * 100);\n      item['start'] = new Date(randomYear, randomMonth, randomDay);\n      item['finish'] = new Date(randomYear, (randomMonth + 1), randomDay);\n      item['effortDriven'] = (i % 5 === 0);\n    }\n    this.dataset = data;\n    return data;\n  }\n\n  handleOnTreeFullToggleEnd(treeToggleExecution: TreeToggleStateChange) {\n    console.log('Tree Data changes', treeToggleExecution);\n    this.hideSpinner();\n  }\n\n  /** Whenever a parent is being toggled, we'll keep a reference of all of these changes so that we can reapply them whenever we want */\n  handleOnTreeItemToggled(treeToggleExecution: TreeToggleStateChange) {\n    this.hasNoExpandCollapseChanged = false;\n    this.treeToggleItems = treeToggleExecution.toggledItems as TreeToggledItem[];\n    console.log('Tree Data changes', treeToggleExecution);\n  }\n\n  handleOnGridStateChanged(gridStateChange: GridStateChange) {\n    this.hasNoExpandCollapseChanged = false;\n\n    if (gridStateChange?.change?.type === GridStateType.treeData) {\n      console.log('Tree Data gridStateChange', gridStateChange?.gridState?.treeData);\n      this.treeToggleItems = gridStateChange?.gridState?.treeData?.toggledItems as TreeToggledItem[];\n    }\n  }\n\n  logTreeDataToggledItems() {\n    console.log(this.aureliaGrid.treeDataService.getToggledItems());\n  }\n\n  dynamicallyToggledFirstParent() {\n    const parentPropName = 'parentId';\n    const treeLevelPropName = 'treeLevel'; // if undefined in your options, the default prop name is \"__treeLevel\"\n    const newTreeLevel = 1;\n\n    // find first parent object and toggle it\n    const childItemFound = this.dataset.find((item) => item[treeLevelPropName] === newTreeLevel);\n    const parentItemFound = this.aureliaGrid.dataView.getItemByIdx(childItemFound[parentPropName]);\n\n    if (childItemFound && parentItemFound) {\n      this.aureliaGrid.treeDataService.dynamicallyToggleItemState([{ itemId: parentItemFound.id, isCollapsed: !parentItemFound.__collapsed }]);\n    }\n  }\n\n  reapplyToggledItems() {\n    this.aureliaGrid.treeDataService.applyToggledItemStateChanges(this.treeToggleItems);\n  }\n\n  toggleSubTitle() {\n    this.hideSubTitle = !this.hideSubTitle;\n    const action = this.hideSubTitle ? 'add' : 'remove';\n    document.querySelector('.subtitle')?.classList[action]('hidden');\n    this.aureliaGrid.resizerService.resizeGrid(0);\n  }\n}\n"],"names":["name","template","dependencies","bindables","_e","register","container","CustomElement","_Example27_decorators","_init","NB_ITEMS","customElement","__au2ViewDef","Example27","__publicField","FieldType","Formatters","Filters","_row","_cell","value","_def","dataContext","prefix","ExcelExportService","newId","parentItemFound","_a","newItem","item","rowCount","indent","parents","data","i","randomYear","randomMonth","randomDay","parentId","treeToggleExecution","gridStateChange","GridStateType","_b","_d","_c","parentPropName","treeLevelPropName","childItemFound","action","__decoratorStart","__decorateElement","__runInitializers"],"mappings":"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"}