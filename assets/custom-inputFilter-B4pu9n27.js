import{O as m,z as o}from"./index-Bz3uuwsZ.js";var u=Object.defineProperty,n=(l,e,r)=>e in l?u(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r,i=(l,e,r)=>n(l,typeof e!="symbol"?e+"":e,r);class f{constructor(){i(this,"_clearFilterTriggered",!1),i(this,"_shouldTriggerQuery",!0),i(this,"filterElm"),i(this,"grid"),i(this,"searchTerms",[]),i(this,"columnDef"),i(this,"callback"),i(this,"operator",m.equal)}get columnFilter(){var e;return((e=this.columnDef)==null?void 0:e.filter)??{}}get gridOptions(){var e;return((e=this.grid)==null?void 0:e.getOptions())??{}}init(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=(e.hasOwnProperty("searchTerms")?e.searchTerms:[])||[];const r=Array.isArray(this.searchTerms)&&this.searchTerms.length>0?this.searchTerms[0]:"";this.filterElm=this.createDomElement(r),this.filterElm.addEventListener("keyup",this.handleKeyup.bind(this))}handleKeyup(e){var t;let r=((t=e.target)==null?void 0:t.value)??"";const s=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;typeof r=="string"&&s&&(r=r.trim()),this._clearFilterTriggered?(this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.filterElm.classList.remove("filled")):(r===""?this.filterElm.classList.remove("filled"):this.filterElm.classList.add("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:[r],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}clear(e=!0){this.filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.filterElm.value="",this.filterElm.dispatchEvent(new Event("keyup")))}destroy(){this.filterElm&&(this.filterElm.removeEventListener("keyup",this.handleKeyup),this.filterElm.remove())}setValues(e){e&&(this.filterElm.value=e)}createDomElement(e){var h,a;const r=this.grid.getHeaderRowColumn(this.columnDef.id);o(r);let s=((h=this.gridOptions)==null?void 0:h.defaultFilterPlaceholder)??"";(a=this.columnFilter)!=null&&a.placeholder&&(s=this.columnFilter.placeholder);const t=document.createElement("input");t.className="form-control search-filter",t.placeholder=s;const c=e;return t.value=c,t.dataset.columnid=`${this.columnDef.id}`,r&&r.appendChild(t),t}}export{f as C};
//# sourceMappingURL=custom-inputFilter-B4pu9n27.js.map
