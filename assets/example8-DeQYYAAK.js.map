{"version":3,"file":"example8-DeQYYAAK.js","sources":["../../src/examples/slickgrid/example8.$au.ts","../../src/examples/slickgrid/example8.ts"],"sourcesContent":["import { CustomElement } from '@aurelia/runtime-html';\nimport \"./example8.scss\";\nexport const name = \"example8\";\nexport const template = \"<h2>\\n  ${title}\\n  <span class=\\\"float-end\\\">\\n    <a style=\\\"font-size: 18px\\\"\\n        target=\\\"_blank\\\"\\n        href=\\\"https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example8.ts\\\">\\n      <span class=\\\"mdi mdi-link-variant\\\"></span> code\\n    </a>\\n  </span>\\n  <button\\n      class=\\\"ms-2 btn btn-outline-secondary btn-sm btn-icon\\\"\\n      type=\\\"button\\\"\\n      data-test=\\\"toggle-subtitle\\\"\\n      click.trigger=\\\"hideSubTitle = !hideSubTitle\\\"\\n    >\\n      <span class=\\\"mdi mdi-information-outline\\\" title=\\\"Toggle example sub-title details\\\"></span>\\n    </button>\\n</h2>\\n\\n<div class=\\\"subtitle\\\" innerhtml.bind=\\\"subTitle\\\" hidden.bind=\\\"hideSubTitle\\\"></div>\\n\\n<button class=\\\"btn btn-outline-secondary btn-sm btn-icon\\\" click.trigger=\\\"switchLanguage()\\\">\\n  <i class=\\\"mdi mdi-translate\\\"></i>\\n  Switch Language\\n</button>\\n<b>Locale:</b> <span style=\\\"font-style: italic\\\" data-test=\\\"selected-locale\\\">${selectedLanguage + '.json'}</span>\\n\\n<aurelia-slickgrid grid-id=\\\"grid8\\\"\\n                    column-definitions.bind=\\\"columnDefinitions\\\"\\n                    grid-options.bind=\\\"gridOptions\\\"\\n                    dataset.bind=\\\"dataset\\\"\\n                    on-aurelia-grid-created.trigger=\\\"aureliaGridReady($event.detail)\\\">\\n</aurelia-slickgrid>\\n\";\nexport default template;\nexport const dependencies = [  ];\nexport const bindables = {};\nlet _e;\nexport function register(container) {\n  if (!_e) {\n    _e = CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n","import { I18N } from '@aurelia/i18n';\nimport { type Column, Formatters, type GridOption } from 'aurelia-slickgrid';\nimport './example8.scss'; // provide custom CSS/SASS styling\nimport { resolve } from 'aurelia';\n\nexport class Example8 {\n  title = 'Example 8: Header Menu Plugin';\n  subTitle = `\n    This example demonstrates using the <b>Slick.Plugins.HeaderMenu</b> plugin to easily add menus to colum headers.<br/>\n    These menus can be specified directly in the column definition, and are very easy to configure and use.\n    (<a href=\"https://ghiscoding.gitbook.io/aurelia-slickgrid/grid-functionalities/header-menu-header-buttonss\" target=\"_blank\">Wiki docs</a>)\n    <ul>\n      <li>Now enabled by default in the Global Grid Options, it will add the default commands of (hide column, sort asc/desc)</li>\n      <li>Hover over any column header to see an arrow showing up on the right</li>\n      <li>Try Sorting (multi-sort) the 2 columns \"Duration\" and \"% Complete\" (the other ones are disabled)</li>\n      <li>Try hiding any columns (you use the \"Column Picker\" plugin by doing a right+click on the header to show the column back)</li>\n      <li>Note: The \"Header Button\" & \"Header Menu\" Plugins cannot be used at the same time</li>\n      <li>You can change the menu icon via SASS variables as shown in this demo (check all SASS variables)</li>\n      <li>Use override callback functions to change the properties of show/hide, enable/disable the menu or certain item(s) from the list</li>\n      <ol>\n        <li>These callbacks are: \"itemVisibilityOverride\", \"itemUsabilityOverride\"</li>\n        <li>for example if we want to disable the \"Help\" command over the \"Title\" and \"Completed\" column</li>\n        <li>for example don't show Help on column \"% Complete\"</li>\n      </ol>\n    </ul>\n  `;\n\n  columnDefinitions: Column[] = [];\n  gridOptions!: GridOption;\n  dataset: any[] = [];\n  hideSubTitle = false;\n  selectedLanguage: string;\n  visibleColumns: Column[] = [];\n\n  constructor(private readonly i18n: I18N = resolve(I18N)) {\n    // define the grid options & columns and then create the grid itself\n    this.defineGrid();\n\n    // always start with English for Cypress E2E tests to be consistent\n    const defaultLang = 'en';\n    this.i18n.setLocale(defaultLang);\n    this.selectedLanguage = defaultLang;\n  }\n\n  attached() {\n    // populate the dataset once the grid is ready\n    this.getData();\n  }\n\n  defineGrid() {\n    this.columnDefinitions = [\n      { id: 'title', name: 'Title', field: 'title', nameKey: 'TITLE' },\n      { id: 'duration', name: 'Duration', field: 'duration', nameKey: 'DURATION', sortable: true },\n      { id: 'percentComplete', name: '% Complete', field: 'percentComplete', nameKey: 'PERCENT_COMPLETE', sortable: true },\n      { id: 'start', name: 'Start', field: 'start', nameKey: 'START' },\n      { id: 'finish', name: 'Finish', field: 'finish', nameKey: 'FINISH' },\n      { id: 'completed', name: 'Completed', field: 'completed', nameKey: 'COMPLETED', formatter: Formatters.checkmarkMaterial }\n    ];\n\n    this.columnDefinitions.forEach((columnDef) => {\n      columnDef.header = {\n        menu: {\n          commandItems: [\n            // add Custom Header Menu Item Commands which will be appended to the existing internal custom items\n            // you cannot override an internal command but you can hide them and create your own\n            // also note that the internal custom commands are in the positionOrder range of 50-60,\n            // if you want yours at the bottom then start with 61, below 50 will make your command(s) show on top\n            {\n              iconCssClass: 'mdi mdi-help-circle',\n\n              // you can disable a command with certain logic\n              // HOWEVER note that if you use \"itemUsabilityOverride\" has precedence when it is defined\n              // disabled: (columnDef.id === 'completed'),\n\n              titleKey: 'HELP', // use \"title\" as plain string OR \"titleKey\" when using a translation key\n              command: 'help',\n              tooltip: 'Need assistance?',\n              cssClass: 'bold',     // container css class\n              textCssClass: (columnDef.id === 'title' || columnDef.id === 'completed') ? '' : 'blue', // just the text css class\n              positionOrder: 99,\n              itemUsabilityOverride: (args) => {\n                // for example if we want to disable the \"Help\" command over the \"Title\" and \"Completed\" column\n                return !(args.column.id === 'title' || args.column.id === 'completed');\n              },\n              itemVisibilityOverride: (args) => {\n                // for example don't show Help on column \"% Complete\"\n                return (args.column.id !== 'percentComplete');\n              },\n              action: (_e, args) => {\n                // you can use the \"action\" callback and/or subscribe to the \"onCallback\" event, they both have the same arguments\n                console.log('execute an action on Help', args);\n              }\n            },\n            // you can also add divider between commands (command is a required property but you can set it to empty string)\n            { divider: true, command: '', positionOrder: 98 },\n\n            // you can use \"divider\" as a string too, but if you do then make sure it's the correct position in the list\n            // (since there's no positionOrder when using 'divider')\n            // 'divider',\n            {\n              // we can also have multiple nested sub-menus\n              command: 'custom-actions', title: 'Hello', positionOrder: 99,\n              commandItems: [\n                { command: 'hello-world', title: 'Hello World' },\n                { command: 'hello-slickgrid', title: 'Hello SlickGrid' },\n                {\n                  command: 'sub-menu', title: `Let's play`, cssClass: 'green', subMenuTitle: 'choose your game', subMenuTitleCssClass: 'text-italic salmon',\n                  commandItems: [\n                    { command: 'sport-badminton', title: 'Badminton' },\n                    { command: 'sport-tennis', title: 'Tennis' },\n                    { command: 'sport-racquetball', title: 'Racquetball' },\n                    { command: 'sport-squash', title: 'Squash' },\n                  ]\n                }\n              ]\n            },\n            {\n              command: 'feedback', title: 'Feedback', positionOrder: 100,\n              commandItems: [\n                { command: 'request-update', title: 'Request update from supplier', iconCssClass: 'mdi mdi-star', tooltip: 'this will automatically send an alert to the shipping team to contact the user for an update' },\n                'divider',\n                {\n                  command: 'sub-menu', title: 'Contact Us', iconCssClass: 'mdi mdi-account', subMenuTitle: 'contact us...', subMenuTitleCssClass: 'italic',\n                  commandItems: [\n                    { command: 'contact-email', title: 'Email us', iconCssClass: 'mdi mdi-pencil-outline' },\n                    { command: 'contact-chat', title: 'Chat with us', iconCssClass: 'mdi mdi-message-text-outline' },\n                    { command: 'contact-meeting', title: 'Book an appointment', iconCssClass: 'mdi mdi-coffee' },\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      };\n    });\n\n    this.gridOptions = {\n      enableAutoResize: true,\n      enableHeaderMenu: true,\n      autoResize: {\n        container: '#demo-container',\n        rightPadding: 10\n      },\n      enableFiltering: false,\n      enableCellNavigation: true,\n      headerMenu: {\n        hideSortCommands: false,\n        hideColumnHideCommand: false,\n        subItemChevronClass: 'mdi mdi-chevron-down mdi-rotate-270',\n        // you can use the \"onCommand\" (in Grid Options) and/or the \"action\" callback (in Column Definition)\n        onCommand: (_e, args) => {\n          // e.preventDefault(); // preventing default event would keep the menu open after the execution\n          const command = args.item?.command;\n          if (command.includes('hello-')) {\n            alert(args?.item.title);\n          } else if (command.includes('sport-')) {\n            alert('Just do it, play ' + args?.item?.title);\n          } else if (command.includes('contact-')) {\n            alert('Command: ' + args?.item?.command);\n          } else if (args.command === 'help') {\n            alert('Please help!!!');\n          }\n        },\n      },\n      enableTranslate: true,\n      i18n: this.i18n\n    };\n  }\n\n  getData() {\n    // Set up some test columns.\n    const mockDataset: any[] = [];\n    for (let i = 0; i < 1000; i++) {\n      mockDataset[i] = {\n        id: i,\n        title: 'Task ' + i,\n        duration: Math.round(Math.random() * 25) + ' days',\n        percentComplete: Math.round(Math.random() * 100),\n        start: '01/01/2009',\n        finish: '01/05/2009',\n        completed: (i % 5 === 0)\n      };\n    }\n    this.dataset = mockDataset;\n  }\n\n  async switchLanguage() {\n    const nextLanguage = (this.selectedLanguage === 'en') ? 'fr' : 'en';\n    await this.i18n.setLocale(nextLanguage);\n    this.selectedLanguage = nextLanguage;\n  }\n}\n"],"names":["name","template","dependencies","bindables","_e","register","container","CustomElement","_Example8_decorators","_init","customElement","__au2ViewDef","Example8","i18n","resolve","I18N","__publicField","defaultLang","Formatters","columnDef","args","command","_a","_b","_c","mockDataset","i","nextLanguage","__decoratorStart","__decorateElement","__runInitializers"],"mappings":"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"}