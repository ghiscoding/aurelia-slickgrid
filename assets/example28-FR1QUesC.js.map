{"version":3,"file":"example28-FR1QUesC.js","sources":["../../src/examples/slickgrid/example28.$au.ts","../../src/examples/slickgrid/example28.ts"],"sourcesContent":["import { CustomElement } from '@aurelia/runtime-html';\nimport \"./example28.scss\";\nexport const name = \"example28\";\nexport const template = \"<h2>\\n  <span innerhtml.bind=\\\"title\\\"></span>\\n  <span class=\\\"float-end\\\">\\n    <a style=\\\"font-size: 18px\\\"\\n        target=\\\"_blank\\\"\\n        href=\\\"https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example28.ts\\\">\\n      <span class=\\\"mdi mdi-link mdi-v-align-sub\\\"></span> code\\n    </a>\\n  </span>\\n  <button\\n      class=\\\"ms-2 btn btn-outline-secondary btn-sm btn-icon\\\"\\n      type=\\\"button\\\"\\n      data-test=\\\"toggle-subtitle\\\"\\n      click.trigger=\\\"toggleSubTitle()\\\"\\n    >\\n      <span class=\\\"mdi mdi-information-outline\\\" title=\\\"Toggle example sub-title details\\\"></span>\\n    </button>\\n</h2>\\n\\n<div class=\\\"subtitle\\\" innerhtml.bind=\\\"subTitle\\\"></div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md-7\\\">\\n    <button click.trigger=\\\"addNewFile()\\\" data-test=\\\"add-item-btn\\\" class=\\\"btn btn-xs btn-icon btn-primary\\\">\\n      <span class=\\\"mdi mdi-plus color-white\\\"></span>\\n      <span>Add New Pop Song</span>\\n    </button>\\n    <button click.trigger=\\\"deleteFile()\\\" data-test=\\\"remove-item-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\" disabled.bind=\\\"isRemoveLastInsertedPopSongDisabled\\\">\\n      <span class=\\\"mdi mdi-minus\\\"></span>\\n      <span>Remove Last Inserted Pop Song</span>\\n    </button>\\n    <button click.trigger=\\\"collapseAll()\\\" data-test=\\\"collapse-all-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\">\\n      <span class=\\\"mdi mdi-arrow-collapse\\\"></span>\\n      <span>Collapse All</span>\\n    </button>\\n    <button click.trigger=\\\"expandAll()\\\" data-test=\\\"expand-all-btn\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\">\\n      <span class=\\\"mdi mdi-arrow-expand\\\"></span>\\n      <span>Expand All</span>\\n    </button>\\n    <button class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\" data-test=\\\"clear-filters-btn\\\" click.trigger=\\\"clearFilters()\\\">\\n      <span class=\\\"mdi mdi-close\\\"></span>\\n      <span>Clear Filters</span>\\n    </button>\\n    <button click.trigger=\\\"logFlatStructure()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            title=\\\"console.log of the Flat dataset\\\">\\n      <span>Log Flat Structure</span>\\n    </button>\\n    <button click.trigger=\\\"logHierarchicalStructure()\\\" class=\\\"btn btn-outline-secondary btn-xs btn-icon\\\"\\n            title=\\\"console.log of the Hierarchical Tree dataset\\\">\\n      <span>Log Hierarchical Structure</span>\\n    </button>\\n  </div>\\n\\n  <div class=\\\"col-md-5\\\">\\n    <div class=\\\"input-group input-group-sm\\\">\\n      <input type=\\\"text\\\" class=\\\"form-control search-string\\\" placeholder=\\\"search value\\\" autocomplete=\\\"off\\\"\\n              data-test=\\\"search-string\\\" value.bind=\\\"searchString\\\">\\n      <button class=\\\"btn btn-sm btn-outline-secondary d-flex align-items-center\\\" data-test=\\\"clear-search-string\\\"\\n              click.trigger=\\\"clearSearch()\\\">\\n        <span class=\\\"icon mdi mdi-close-thick\\\"></span>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div>\\n  <label class=\\\"checkbox-inline control-label\\\" for=\\\"excludeChildWhenFiltering\\\" style=\\\"margin-left: 20px\\\">\\n    <input type=\\\"checkbox\\\" id=\\\"excludeChildWhenFiltering\\\" data-test=\\\"exclude-child-when-filtering\\\"\\n            checked.bind=\\\"isExcludingChildWhenFiltering\\\"\\n            click.trigger=\\\"changeExcludeChildWhenFiltering()\\\">\\n    <span\\n          title=\\\"for example if we filter the word 'pop' and we exclude children, then only the folder 'pop' will show up without any content unless we uncheck this flag\\\">\\n      Exclude Children when Filtering Tree\\n    </span>\\n  </label>\\n  <label class=\\\"checkbox-inline control-label\\\" for=\\\"autoApproveParentItem\\\" style=\\\"margin-left: 20px\\\">\\n    <input type=\\\"checkbox\\\" id=\\\"autoApproveParentItem\\\" data-test=\\\"auto-approve-parent-item\\\"\\n            checked.bind=\\\"isAutoApproveParentItemWhenTreeColumnIsValid\\\"\\n            click.trigger=\\\"changeAutoApproveParentItem()\\\">\\n    <span\\n          title=\\\"for example in this demo if we filter with 'music' and size '> 70' nothing will show up unless we have this flag enabled\\n          because none of the files have both criteria at the same time, however the column with the tree 'file' does pass the filter criteria 'music'\\n          and with this flag we tell the lib to skip any other filter(s) as soon as the with the tree (file in this demo) passes its own filter criteria\\\">\\n      Skip Other Filter Criteria when Parent with Tree is valid\\n    </span>\\n  </label>\\n  <label class=\\\"checkbox-inline control-label\\\" for=\\\"autoRecalcTotalsOnFilterChange\\\" style=\\\"margin-left: 20px\\\">\\n    <input type=\\\"checkbox\\\" id=\\\"autoRecalcTotalsOnFilterChange\\\" data-test=\\\"auto-recalc-totals\\\"\\n            checked.bind=\\\"isAutoRecalcTotalsOnFilterChange\\\"\\n            click.trigger=\\\"changeAutoRecalcTotalsOnFilterChange()\\\">\\n    <span\\n          title=\\\"Should we recalculate Tree Data Totals (when Aggregators are defined) while filtering? This feature is disabled by default.\\\">\\n      auto-recalc Tree Data totals on filter changed\\n    </span>\\n  </label>\\n</div>\\n\\n<br />\\n\\n<div id=\\\"grid-container\\\" class=\\\"col-sm-12\\\">\\n  <aurelia-slickgrid grid-id=\\\"grid28\\\"\\n                      column-definitions.bind=\\\"columnDefinitions\\\"\\n                      grid-options.bind=\\\"gridOptions\\\"\\n                      dataset-hierarchical.bind=\\\"datasetHierarchical\\\"\\n                      instances.bind=\\\"aureliaGrid\\\">\\n  </aurelia-slickgrid>\\n</div>\\n\";\nexport default template;\nexport const dependencies = [  ];\nexport const bindables = {};\nlet _e;\nexport function register(container) {\n  if (!_e) {\n    _e = CustomElement.define({ name, template, dependencies, bindables });\n  }\n  container.register(_e);\n}\n","import { ExcelExportService } from '@slickgrid-universal/excel-export';\nimport { bindable } from 'aurelia';\nimport {\n  addWhiteSpaces,\n  Aggregators,\n  type AureliaGridInstance,\n  type Column,\n  decimalFormatted,\n  FieldType,\n  Filters,\n  findItemInTreeStructure,\n  type Formatter,\n  Formatters,\n  type GridOption,\n  isNumber,\n  type SlickDataView,\n} from 'aurelia-slickgrid';\nimport './example28.scss'; // provide custom CSS/SASS styling\n\nexport class Example28 {\n  title = 'Example 28: Tree Data with Aggregators <small> <span class=\"mdi mdi-file-tree mdi-27px\"></span> (from a Hierarchical Dataset - <a href=\"https://ghiscoding.gitbook.io/aurelia-slickgrid/grid-functionalities/tree-data-grid\" target=\"_blank\">Wiki</a>)</small>';\n  subTitle = `<ul>\n    <li>It is assumed that your dataset will have Parent/Child references AND also Tree Level (indent) property.</li>\n    <ul>\n      <li>If you do not have the Tree Level (indent), you could call \"convertParentChildArrayToHierarchicalView()\" then call \"convertHierarchicalViewToParentChildArray()\"</li>\n      <li>You could also pass the result of \"convertParentChildArrayToHierarchicalView()\" to \"dataset-hierarchical.bind\" as defined in the next Hierarchical Example</li>\n    </ul>\n  </ul>`;\n  aureliaGrid!: AureliaGridInstance;\n  gridOptions!: GridOption;\n  columnDefinitions: Column[] = [];\n  datasetHierarchical: any[] = [];\n  hideSubTitle = false;\n  isExcludingChildWhenFiltering = false;\n  isAutoApproveParentItemWhenTreeColumnIsValid = true;\n  isAutoRecalcTotalsOnFilterChange = false;\n  isRemoveLastInsertedPopSongDisabled = true;\n  lastInsertedPopSongId: number | undefined;\n  @bindable() searchString = '';\n\n  constructor() {\n    // define the grid options & columns and then create the grid itself\n    this.defineGrid();\n  }\n\n  attached() {\n    // populate the dataset once the grid is ready\n    this.datasetHierarchical = this.mockDataset();\n  }\n\n  /* Define grid Options and Columns */\n  defineGrid() {\n    this.columnDefinitions = [\n      {\n        id: 'file', name: 'Files', field: 'file',\n        type: FieldType.string, width: 150, formatter: this.treeFormatter.bind(this),\n        filterable: true, sortable: true,\n      },\n      {\n        id: 'dateModified', name: 'Date Modified', field: 'dateModified',\n        formatter: Formatters.dateIso, type: FieldType.dateUtc, outputType: FieldType.dateIso, minWidth: 90,\n        exportWithFormatter: true, filterable: true, filter: { model: Filters.compoundDate }\n      },\n      {\n        id: 'description', name: 'Description', field: 'description', minWidth: 90,\n        filterable: true, sortable: true,\n      },\n      {\n        id: 'size', name: 'Size', field: 'size', minWidth: 90,\n        type: FieldType.number, exportWithFormatter: true,\n        excelExportOptions: { autoDetectCellFormat: false },\n        filterable: true, filter: { model: Filters.compoundInputNumber },\n\n        // Formatter option #1 (treeParseTotalFormatters)\n        // if you wish to use any of the GroupTotalFormatters (or even regular Formatters), we can do so with the code below\n        // use `treeTotalsFormatter` or `groupTotalsFormatter` to show totals in a Tree Data grid\n        // provide any regular formatters inside the params.formatters\n\n        // formatter: Formatters.treeParseTotals,\n        // treeTotalsFormatter: GroupTotalFormatters.sumTotalsBold,\n        // // groupTotalsFormatter: GroupTotalFormatters.sumTotalsBold,\n        // params: {\n        //   // we can also supply extra params for Formatters/GroupTotalFormatters like min/max decimals\n        //   groupFormatterSuffix: ' MB', minDecimal: 0, maxDecimal: 2,\n        // },\n\n        // OR option #2 (custom Formatter)\n        formatter: (_row, _cell, value, column, dataContext) => {\n          // parent items will a \"__treeTotals\" property (when creating the Tree and running Aggregation, it mutates all items, all extra props starts with \"__\" prefix)\n          const fieldId = column.field;\n\n          // Tree Totals, if exists, will be found under `__treeTotals` prop\n          if (dataContext?.__treeTotals !== undefined) {\n            const treeLevel = dataContext[this.gridOptions?.treeDataOptions?.levelPropName || '__treeLevel'];\n            const sumVal = dataContext?.__treeTotals?.['sum'][fieldId];\n            const avgVal = dataContext?.__treeTotals?.['avg'][fieldId];\n\n            if (avgVal !== undefined && sumVal !== undefined) {\n              // when found Avg & Sum, we'll display both\n              return isNaN(sumVal) ? '' : `<span class=\"text-primary bold\">sum: ${decimalFormatted(sumVal, 0, 2)} MB</span> / <span class=\"avg-total\">avg: ${decimalFormatted(avgVal, 0, 2)} MB</span> <span class=\"total-suffix\">(${treeLevel === 0 ? 'total' : 'sub-total'})</span>`;\n            } else if (sumVal !== undefined) {\n              // or when only Sum is aggregated, then just show Sum\n              return isNaN(sumVal) ? '' : `<span class=\"text-primary bold\">sum: ${decimalFormatted(sumVal, 0, 2)} MB</span> <span class=\"total-suffix\">(${treeLevel === 0 ? 'total' : 'sub-total'})</span>`;\n            }\n          }\n          // reaching this line means it's a regular dataContext without totals, so regular formatter output will be used\n          return !isNumber(value) ? '' : `${value} MB`;\n        },\n      },\n    ];\n\n    this.gridOptions = {\n      autoResize: {\n        autoHeight: false,\n        container: '#demo-container',\n        rightPadding: 10\n      },\n      enableAutoSizeColumns: true,\n      enableAutoResize: true,\n      enableExcelExport: true,\n      excelExportOptions: {\n        exportWithFormatter: true,\n        sanitizeDataExport: true\n      },\n      externalResources: [new ExcelExportService()],\n      enableFiltering: true,\n      enableTreeData: true, // you must enable this flag for the filtering & sorting to work as expected\n      multiColumnSort: false, // multi-column sorting is not supported with Tree Data, so you need to disable it\n      treeDataOptions: {\n        columnId: 'file',\n        childrenPropName: 'files',\n        excludeChildrenWhenFilteringTree: this.isExcludingChildWhenFiltering, // defaults to false\n\n        // skip any other filter criteria(s) if the column holding the Tree (file) passes its own filter criteria\n        // (e.g. filtering with \"Files = music AND Size > 7\", the row \"Music\" and children will only show up when this flag is enabled\n        // this flag only works with the other flag set to `excludeChildrenWhenFilteringTree: false`\n        autoApproveParentItemWhenTreeColumnIsValid: this.isAutoApproveParentItemWhenTreeColumnIsValid,\n\n        // you can also optionally sort by a different column and/or change sort direction\n        // initialSort: {\n        //   columnId: 'file',\n        //   direction: 'DESC'\n        // },\n\n        // Aggregators are also supported and must always be an array even when single one is provided\n        // Note: only 5 are currently supported: Avg, Sum, Min, Max and Count\n        // Note 2: also note that Avg Aggregator will automatically give you the \"avg\", \"count\" and \"sum\" so if you need these 3 then simply calling Avg will give you better perf\n        // aggregators: [new Aggregators.Sum('size')]\n        aggregators: [new Aggregators.Avg('size'), new Aggregators.Sum('size') /* , new Aggregators.Min('size'), new Aggregators.Max('size') */],\n\n        // should we auto-recalc Tree Totals (when using Aggregators) anytime a filter changes\n        // it is disabled by default for perf reason, by default it will only calculate totals on first load\n        autoRecalcTotalsOnFilterChange: this.isAutoRecalcTotalsOnFilterChange,\n\n        // add optional debounce time to limit number of execution that recalc is called, mostly useful on large dataset\n        // autoRecalcTotalsDebounce: 250\n      },\n      // change header/cell row height for salesforce theme\n      headerRowHeight: 35,\n      rowHeight: 33,\n      showCustomFooter: true,\n\n      // we can also preset collapsed items via Grid Presets (parentId: 4 => is the \"pdf\" folder)\n      presets: {\n        treeData: { toggledItems: [{ itemId: 4, isCollapsed: true }] },\n      }\n    };\n  }\n\n  changeAutoApproveParentItem() {\n    this.isAutoApproveParentItemWhenTreeColumnIsValid = !this.isAutoApproveParentItemWhenTreeColumnIsValid;\n    this.gridOptions.treeDataOptions!.autoApproveParentItemWhenTreeColumnIsValid = this.isAutoApproveParentItemWhenTreeColumnIsValid;\n    this.aureliaGrid.slickGrid.setOptions(this.gridOptions);\n    this.aureliaGrid.filterService.refreshTreeDataFilters();\n    return true;\n  }\n\n  changeAutoRecalcTotalsOnFilterChange() {\n    this.isAutoRecalcTotalsOnFilterChange = !this.isAutoRecalcTotalsOnFilterChange;\n    this.gridOptions.treeDataOptions!.autoRecalcTotalsOnFilterChange = this.isAutoRecalcTotalsOnFilterChange;\n    this.aureliaGrid.slickGrid?.setOptions(this.gridOptions);\n\n    // since it doesn't take current filters in consideration, we better clear them\n    this.aureliaGrid.filterService.clearFilters();\n    this.aureliaGrid.treeDataService.enableAutoRecalcTotalsFeature();\n    return true;\n  }\n\n  changeExcludeChildWhenFiltering() {\n    this.isExcludingChildWhenFiltering = !this.isExcludingChildWhenFiltering;\n    this.gridOptions.treeDataOptions!.excludeChildrenWhenFilteringTree = this.isExcludingChildWhenFiltering;\n    this.aureliaGrid.slickGrid.setOptions(this.gridOptions);\n    this.aureliaGrid.filterService.refreshTreeDataFilters();\n    return true;\n  }\n\n  clearSearch() {\n    this.searchString = '';\n  }\n\n  searchStringChanged() {\n    this.updateFilter();\n  }\n\n  updateFilter() {\n    this.aureliaGrid.filterService.updateFilters([{ columnId: 'file', searchTerms: [this.searchString] }], true, false, true);\n  }\n\n  treeFormatter: Formatter = (_row, _cell, value, _columnDef, dataContext, grid) => {\n    const gridOptions = grid.getOptions();\n    const treeLevelPropName = gridOptions.treeDataOptions && gridOptions.treeDataOptions.levelPropName || '__treeLevel';\n    if (value === null || value === undefined || dataContext === undefined) {\n      return '';\n    }\n    const dataView = grid.getData<SlickDataView>();\n    const data = dataView.getItems();\n    const identifierPropName = dataView.getIdPropertyName() || 'id';\n    const idx = dataView.getIdxById(dataContext[identifierPropName]) as number;\n    const prefix = this.getFileIcon(value);\n    const treeLevel = dataContext[treeLevelPropName];\n    const exportIndentationLeadingChar = '.';\n\n    value = value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    const spacer = `<span style=\"display:inline-block; width:${(15 * treeLevel)}px;\"></span>`;\n    const indentSpacer = addWhiteSpaces(5 * treeLevel);\n\n    if (data[idx + 1]?.[treeLevelPropName] > data[idx][treeLevelPropName] || data[idx]['__hasChildren']) {\n      const folderPrefix = `<span class=\"mdi icon ${dataContext.__collapsed ? 'mdi-folder' : 'mdi-folder-open'}\"></span>`;\n      if (dataContext.__collapsed) {\n        return `<span class=\"hidden\">${exportIndentationLeadingChar}</span>${spacer}${indentSpacer} <span class=\"slick-group-toggle collapsed\" level=\"${treeLevel}\"></span>${folderPrefix} ${prefix} ${value}`;\n      } else {\n        return `<span class=\"hidden\">${exportIndentationLeadingChar}</span>${spacer}${indentSpacer} <span class=\"slick-group-toggle expanded\" level=\"${treeLevel}\"></span>${folderPrefix} ${prefix} ${value}`;\n      }\n    } else {\n      return `<span class=\"hidden\">${exportIndentationLeadingChar}</span>${spacer}${indentSpacer} <span class=\"slick-group-toggle\" level=\"${treeLevel}\"></span>${prefix} ${value}`;\n    }\n  };\n\n  getFileIcon(value: string) {\n    let prefix = '';\n    if (value.includes('.pdf')) {\n      prefix = '<span class=\"mdi icon mdi-file-pdf-outline\"></span>';\n    } else if (value.includes('.txt')) {\n      prefix = '<span class=\"mdi icon mdi-file-document-outline\"></span>';\n    } else if (value.includes('.xls')) {\n      prefix = '<span class=\"mdi icon mdi-file-excel-outline\"></span>';\n    } else if (value.includes('.mp3')) {\n      prefix = '<span class=\"mdi icon mdi-file-music-outline\"></span>';\n    }\n    return prefix;\n  }\n\n  /**\n   * A simple method to add a new item inside the first group that we find.\n   * After adding the item, it will sort by parent/child recursively\n   */\n  addNewFile() {\n    const newId = this.aureliaGrid.dataView.getLength() + 50;\n\n    // find first parent object and add the new item as a child\n    const tmpDatasetHierarchical = [...this.datasetHierarchical];\n    const popFolderItem = findItemInTreeStructure(tmpDatasetHierarchical, x => x.file === 'pop', 'files');\n\n    if (popFolderItem && Array.isArray(popFolderItem.files)) {\n      popFolderItem.files.push({\n        id: newId,\n        file: `pop-${newId}.mp3`,\n        dateModified: new Date(),\n        size: newId + 3,\n      });\n      this.lastInsertedPopSongId = newId;\n      this.isRemoveLastInsertedPopSongDisabled = false;\n\n      // overwrite hierarchical dataset which will also trigger a grid sort and rendering\n      this.datasetHierarchical = tmpDatasetHierarchical;\n\n      // scroll into the position, after insertion cycle, where the item was added\n      window.setTimeout(() => {\n        const rowIndex = this.aureliaGrid.dataView.getRowById(popFolderItem.id) as number;\n        this.aureliaGrid.slickGrid.scrollRowIntoView(rowIndex + 3);\n      }, 10);\n    }\n  }\n\n  deleteFile() {\n    const tmpDatasetHierarchical = [...this.datasetHierarchical];\n    const popFolderItem = findItemInTreeStructure(this.datasetHierarchical, x => x.file === 'pop', 'files');\n    const songItemFound = findItemInTreeStructure(this.datasetHierarchical, x => x.id === this.lastInsertedPopSongId, 'files');\n\n    if (popFolderItem && songItemFound) {\n      const songIdx = popFolderItem.files.findIndex((f: any) => f.id === songItemFound.id);\n      if (songIdx >= 0) {\n        popFolderItem.files.splice(songIdx, 1);\n        this.lastInsertedPopSongId = undefined;\n        this.isRemoveLastInsertedPopSongDisabled = true;\n\n        // overwrite hierarchical dataset which will also trigger a grid sort and rendering\n        this.datasetHierarchical = tmpDatasetHierarchical;\n      }\n    }\n  }\n\n  clearFilters() {\n    this.aureliaGrid.filterService.clearFilters();\n  }\n\n  collapseAll() {\n    this.aureliaGrid.treeDataService.toggleTreeDataCollapse(true);\n  }\n\n  expandAll() {\n    this.aureliaGrid.treeDataService.toggleTreeDataCollapse(false);\n  }\n\n  logHierarchicalStructure() {\n    console.log('exploded array', this.aureliaGrid.treeDataService.datasetHierarchical /* , JSON.stringify(explodedArray, null, 2) */);\n  }\n\n  logFlatStructure() {\n    console.log('flat array', this.aureliaGrid.treeDataService.dataset /* , JSON.stringify(outputFlatArray, null, 2) */);\n  }\n\n  mockDataset() {\n    return [\n      { id: 24, file: 'bucket-list.txt', dateModified: '2012-03-05T12:44:00.123Z', size: 0.5 },\n      { id: 18, file: 'something.txt', dateModified: '2015-03-03T03:50:00.123Z', size: 90 },\n      {\n        id: 21, file: 'documents', files: [\n          { id: 2, file: 'txt', files: [{ id: 3, file: 'todo.txt', description: 'things to do someday maybe', dateModified: '2015-05-12T14:50:00.123Z', size: 0.7, }] },\n          {\n            id: 4, file: 'pdf', files: [\n              { id: 22, file: 'map2.pdf', dateModified: '2015-07-21T08:22:00.123Z', size: 2.9, },\n              { id: 5, file: 'map.pdf', dateModified: '2015-05-21T10:22:00.123Z', size: 3.1, },\n              { id: 6, file: 'internet-bill.pdf', dateModified: '2015-05-12T14:50:00.123Z', size: 1.3, },\n              { id: 23, file: 'phone-bill.pdf', dateModified: '2015-05-01T07:50:00.123Z', size: 1.5, },\n            ]\n          },\n          { id: 9, file: 'misc', files: [{ id: 10, file: 'warranties.txt', dateModified: '2015-02-26T16:50:00.123Z', size: 0.4, }] },\n          { id: 7, file: 'xls', files: [{ id: 8, file: 'compilation.xls', dateModified: '2014-10-02T14:50:00.123Z', size: 2.3, }] },\n          { id: 55, file: 'unclassified.csv', dateModified: '2015-04-08T03:44:12.333Z', size: 0.25, },\n          { id: 56, file: 'unresolved.csv', dateModified: '2015-04-03T03:21:12.000Z', size: 0.79, },\n          { id: 57, file: 'zebra.dll', dateModified: '2016-12-08T13:22:12.432', size: 1.22, },\n        ]\n      },\n      {\n        id: 11, file: 'music', files: [{\n          id: 12, file: 'mp3', files: [\n            { id: 16, file: 'rock', files: [{ id: 17, file: 'soft.mp3', dateModified: '2015-05-13T13:50:00Z', size: 98, }] },\n            {\n              id: 14, file: 'pop', files: [\n                { id: 15, file: 'theme.mp3', description: 'Movie Theme Song', dateModified: '2015-03-01T17:05:00Z', size: 47, },\n                { id: 25, file: 'song.mp3', description: 'it is a song...', dateModified: '2016-10-04T06:33:44Z', size: 6.3, }\n              ],\n            },\n            { id: 33, file: 'other', files: [] }\n          ]\n        }]\n      },\n      {\n        id: 26, file: 'recipes', description: 'Cake Recipes', dateModified: '2012-03-05T12:44:00.123Z', files: [\n          { id: 29, file: 'cheesecake', description: 'strawberry cheesecake', dateModified: '2012-04-04T13:52:00.123Z', size: 0.2 },\n          { id: 30, file: 'chocolate-cake', description: 'tasty sweet chocolate cake', dateModified: '2012-05-05T09:22:00.123Z', size: 0.2 },\n          { id: 31, file: 'coffee-cake', description: 'chocolate coffee cake', dateModified: '2012-01-01T08:08:48.123Z', size: 0.2 },\n        ]\n      },\n    ];\n  }\n\n  toggleSubTitle() {\n    this.hideSubTitle = !this.hideSubTitle;\n    const action = this.hideSubTitle ? 'add' : 'remove';\n    document.querySelector('.subtitle')?.classList[action]('hidden');\n    this.aureliaGrid.resizerService.resizeGrid(0);\n  }\n}\n"],"names":["name","template","dependencies","bindables","_e","register","container","CustomElement","_searchString_dec","_Example28_decorators","_init","customElement","__au2ViewDef","bindable","Example28","__publicField","__runInitializers","_row","_cell","value","_columnDef","dataContext","grid","gridOptions","treeLevelPropName","dataView","data","identifierPropName","idx","prefix","treeLevel","exportIndentationLeadingChar","spacer","indentSpacer","addWhiteSpaces","_a","folderPrefix","FieldType","Formatters","Filters","column","fieldId","_b","sumVal","_c","avgVal","_d","isNumber","ExcelExportService","Aggregators","newId","tmpDatasetHierarchical","popFolderItem","findItemInTreeStructure","x","rowIndex","songItemFound","songIdx","f","action","__decoratorStart","__decorateElement"],"mappings":"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"}